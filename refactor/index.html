<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JREdesign - Portfolio</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

    <!-- Babel para procesar JSX en el navegador -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Configuración personalizada de Tailwind -->
    <script>
      tailwind.config = {
        theme: {
          extend: {
            animation: {
              "pulse-slow": "pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite",
              shine: "shine 6s linear infinite"
            },
            keyframes: {
              shine: { "0%": { backgroundPosition: "200% center" }, "100%": { backgroundPosition: "-200% center" } }
            },
            spacing: { 128: "32rem", 144: "36rem" },
            fontFamily: { sans: ["Inter", "sans-serif"] },
            backgroundImage: {
              "cotton-candy":
                "linear-gradient(to right, #f472b6 0%, #60a5fa 15%, #fff5fa 35%, #fff5fa 65%, #60a5fa 85%, #f472b6 100%)"
            }
          }
        }
      };
    </script>

    <style>
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap");
      body{background-color:#09090b;color:#fff;font-family:"Inter",sans-serif;-webkit-font-smoothing:antialiased}
      .bg-grid-pattern{background-image:radial-gradient(#52525b 1px,transparent 1px);background-size:32px 32px}
      ::-webkit-scrollbar{width:8px}
      ::-webkit-scrollbar-track{background:#09090b}
      ::-webkit-scrollbar-thumb{background:#27272a;border-radius:4px}
      ::-webkit-scrollbar-thumb:hover{background:#3f3f46}

      /* --- GLOWING CARD CSS --- */
      .glowing-card-wrapper{--glow-sens:30;--color-sens:calc(var(--glow-sens) + 20);--blend:soft-light;--glow-blend:screen;--glow-color:210deg 100% 60%;--card-bg:linear-gradient(to bottom,#111111 0%,#06080d 100%);--pointer-x:0%;--pointer-y:0%;--pointer-deg:0deg;--pointer-d:0;height:100%;width:100%}
      .glowing-card{position:relative;width:100%;height:100%;min-height:320px;border-radius:1.5rem;isolation:isolate;display:grid;place-items:center;border:1px solid rgba(255,255,255,.1);background:var(--card-bg);box-shadow:0 10px 20px -5px rgba(0,0,0,.5);transform:translate3d(0,0,0.01px)}
      .glowing-card::before,.glowing-card::after,.glowing-card>.glow{content:"";position:absolute;inset:0;border-radius:inherit;transition:opacity .2s ease-out;z-index:-1;pointer-events:none}
      .glowing-card::before{
        border:1px solid transparent;
        background:
          linear-gradient(var(--card-bg) 0 100%) padding-box,
          linear-gradient(rgba(255,255,255,0) 0% 100%) border-box,
          radial-gradient(at 80% 55%,hsla(210,100%,60%,1) 0px,transparent 50%) border-box,
          radial-gradient(at 20% 20%,hsla(190,100%,70%,1) 0px,transparent 50%) border-box,
          radial-gradient(at 50% 90%,hsla(260,100%,65%,1) 0px,transparent 50%) border-box,
          linear-gradient(#1e40af 0 100%) border-box;
        opacity:calc((var(--pointer-d) - var(--color-sens)) / (100 - var(--color-sens)));
        mask-image:conic-gradient(from var(--pointer-deg) at center,black 25%,transparent 40%,transparent 60%,black 75%)
      }
      .glowing-card::after{
        border:1px solid transparent;
        background:
          radial-gradient(at 80% 55%,hsla(210,100%,60%,1) 0px,transparent 50%) padding-box,
          radial-gradient(at 20% 20%,hsla(190,100%,70%,1) 0px,transparent 50%) padding-box,
          linear-gradient(#1e40af 0 100%) padding-box;
        mask-image:linear-gradient(to bottom,black,black),conic-gradient(from var(--pointer-deg) at center,transparent 5%,black 15%,black 85%,transparent 95%);
        -webkit-mask-composite:source-out;
        mask-composite:subtract;
        opacity:calc((var(--pointer-d) - var(--color-sens)) / (100 - var(--color-sens)));
        mix-blend-mode:var(--blend)
      }
      .glowing-card>.glow{inset:-2px;opacity:calc((var(--pointer-d) - var(--glow-sens)) / (100 - var(--glow-sens)));mix-blend-mode:var(--glow-blend);mask-image:conic-gradient(from var(--pointer-deg) at center,black 2.5%,transparent 10%,transparent 90%,black 97.5%)}
      .glowing-card>.glow::before{content:"";position:absolute;inset:0;border-radius:inherit;box-shadow:inset 0 0 0 1px hsl(var(--glow-color) / 100%),0 0 10px 2px hsl(var(--glow-color) / 50%)}
      .glowing-card .inner{z-index:2;padding:2.5rem 2rem;text-align:center;display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;width:100%}

      /* --- ESTILOS ICONOS TECH & AI --- */
      .tech-grid-container{display:flex;flex-wrap:wrap;justify-content:center;gap:20px;max-width:1000px;margin:0 auto}
      .tech-item{display:flex;flex-direction:column;align-items:center;gap:8px;text-align:center;perspective:1000px;width:64px}
      .icon-wrapper{
        width:64px;height:64px;border-radius:16px;
        background:
          radial-gradient(circle at 0 0,rgba(59,130,246,.18),transparent 55%),
          radial-gradient(circle at 100% 100%,rgba(6,182,212,.18),transparent 55%),
          rgba(24,24,27,.8);
        backdrop-filter:blur(8px);
        display:flex;align-items:center;justify-content:center;overflow:visible;
        box-shadow:0 8px 24px rgba(15,23,42,.9),0 0 0 1px rgba(255,255,255,.1);
        transition:transform .55s cubic-bezier(.34,1.56,.64,1),box-shadow .35s ease;
        position:relative;transform-style:preserve-3d;will-change:transform
      }
      .icon-wrapper .full-icon{width:100%;height:100%;object-fit:cover;border-radius:24px;position:relative;z-index:10;filter:drop-shadow(0 4px 6px rgba(0,0,0,.3));transition:transform .4s cubic-bezier(.175,.885,.32,1.275)}
      .tech-item:not(.ai-item):hover .icon-wrapper{box-shadow:0 18px 40px rgba(15,23,42,1),0 0 0 1px rgba(56,189,248,.45);background:rgba(24,24,27,.95);animation:spin-wobble .85s ease-out}
      .tech-item:not(.ai-item):hover .full-icon{transform:scale(1.6)}
      @keyframes spin-wobble{0%{transform:translateY(0) rotate(0deg)}30%{transform:translateY(-8px) rotate(380deg)}55%{transform:translateY(-4px) rotate(348deg)}75%{transform:translateY(-6px) rotate(370deg)}100%{transform:translateY(-2px) rotate(360deg)}}
      .ai-item:hover .icon-wrapper{transition:transform .1s ease-out,box-shadow .3s ease;box-shadow:0 20px 50px rgba(0,0,0,.8),0 0 0 1px rgba(255,255,255,.2);background:rgba(24,24,27,.95)}
      .ai-item:hover .full-icon{transform:scale(1.6);transition:transform .3s cubic-bezier(.175,.885,.32,1.275)}
      .card-shine{position:absolute;top:0;left:0;right:0;bottom:0;border-radius:16px;z-index:2;background:linear-gradient(115deg,transparent 20%,rgba(255,0,150,.25) 30%,rgba(0,255,255,.25) 45%,rgba(255,255,0,.25) 55%,transparent 70%);background-size:300% 300%;opacity:0;mix-blend-mode:color-dodge;pointer-events:none;transition:opacity .3s}
      .card-glare{position:absolute;top:0;left:0;right:0;bottom:0;border-radius:16px;z-index:3;background:radial-gradient(farthest-corner circle at var(--pointer-x,50%) var(--pointer-y,50%),rgba(255,255,255,.6) 0%,rgba(255,255,255,.2) 30%,rgba(255,255,255,0) 60%);opacity:0;mix-blend-mode:overlay;pointer-events:none;transition:opacity .3s}
      .ai-item:hover .card-shine{opacity:.6}
      .ai-item:hover .card-glare{opacity:1}
      .sparks-container{position:absolute;inset:0;border-radius:16px;overflow:hidden;z-index:5;pointer-events:none}
      .spark{position:absolute;width:2px;height:2px;background:#ff0;border-radius:50%;box-shadow:0 0 4px #ff0,0 0 8px #ff0,0 0 10px #0ff;animation:sparkRise .6s ease-out forwards}
      @keyframes sparkRise{0%{transform:translateY(0) translateX(0) scale(1);opacity:0}10%{opacity:1}90%{opacity:1}100%{transform:translateY(-100px) translateX(var(--drift)) scale(.3);opacity:0}}

      /* --- TIMELINE --- */
      :root{--electric-border-color:#3aa3ff;--electric-light-color:#8ccaff;--color-neutral-900:#18181b}
      @supports (color: oklch(0 0 0)){:root{--electric-light-color:oklch(from var(--electric-border-color) l c h)}}
      .timeline-wrapper{position:relative;padding:2rem 0;width:100%}
      .timeline-line-container{position:absolute;left:24px;top:0;bottom:0;width:2px;background:#27272a;z-index:0}
      .timeline-progress{position:absolute;top:0;left:0;width:100%;background:linear-gradient(to bottom,#3b82f6,#60a5fa,#f472b6);height:0;max-height:100%;transition:height .1s linear;box-shadow:0 0 15px rgba(59,130,246,.4)}
      .timeline-item{position:relative;margin-bottom:5rem;width:100%;display:flex;opacity:0;transition:all .8s ease-out}
      .timeline-item.is-visible{opacity:1;transform:translateX(0)!important}
      .timeline-content{margin-left:60px;padding:1.5rem;background:rgba(39,39,42,.4);border:1px solid rgba(255,255,255,.05);border-radius:16px;backdrop-filter:blur(8px);width:calc(100% - 60px);transition:all .4s ease;position:relative;display:flex;flex-direction:column;gap:1rem}
      .logo-container{width:64px;height:64px;flex-shrink:0;border-radius:12px;background:#18181b;border:1px solid rgba(255,255,255,.1);display:flex;align-items:center;justify-content:center;padding:8px;transition:all .4s ease}
      .logo-container img,.logo-container svg{width:100%;height:100%;object-fit:contain;opacity:.7;transition:opacity .3s}
      .text-container{flex-grow:1}
      .timeline-item.active .timeline-content{background:rgba(39,39,42,.7);border-color:rgba(255,255,255,.1);border-right:2px solid #3b82f6;box-shadow:10px 0 20px -5px rgba(59,130,246,.2)}
      .timeline-item.active .logo-container{border-color:#3b82f6;box-shadow:0 0 15px rgba(59,130,246,.3);background:#09090b}
      .timeline-item.active .logo-container img,.timeline-item.active .logo-container svg{opacity:1}
      .electric-card-container{position:relative;border-radius:24px;overflow:visible;transform-style:preserve-3d}
      .electric-layers{position:absolute;inset:-4px;border-radius:24px;pointer-events:none;opacity:0;transition:opacity .8s ease-in-out;z-index:0}
      .electric-overlay-1{position:absolute;inset:0;border-radius:24px;opacity:.25;mix-blend-mode:overlay;transform:scale(1.05);filter:blur(12px);background:linear-gradient(-30deg,white,transparent 30%,transparent 70%,white)}
      .electric-background-glow{position:absolute;inset:0;border-radius:24px;filter:blur(28px);transform:scale(1.08);opacity:.2;z-index:-1;background:linear-gradient(-30deg,var(--electric-light-color),transparent,var(--electric-border-color))}
      .electric-border-outer{position:absolute;inset:0;border:2px solid rgba(58,163,255,.5);border-radius:24px;padding-right:2px;padding-bottom:2px}
      .electric-main-card{width:100%;height:100%;border-radius:24px;border:2px solid var(--electric-border-color);margin-top:-2px;margin-left:-2px;filter:url(#turbulent-displace);opacity:.9}
      .timeline-item.electric-active .electric-layers{opacity:1}
      .timeline-item.electric-active .timeline-content{background:rgba(39,39,42,.95);border-color:transparent;box-shadow:none}
      .timeline-item.electric-active .logo-container{border-color:#3aa3ff;box-shadow:0 0 20px rgba(58,163,255,.6);background:#0c0c0e;animation:pulse-electric 2s infinite}
      @keyframes pulse-electric{0%{box-shadow:0 0 15px rgba(58,163,255,.4)}50%{box-shadow:0 0 25px rgba(58,163,255,.8)}100%{box-shadow:0 0 15px rgba(58,163,255,.4)}}
      @media (min-width:768px){
        .timeline-line-container{left:50%;transform:translateX(-50%)}
        .timeline-item{width:50%}
        .timeline-content::after{content:"";position:absolute;top:32px;transform:translateY(-50%);width:0;height:0;border-top:8px solid transparent;border-bottom:8px solid transparent;transition:border-color .3s ease}
        .timeline-item:nth-child(odd){margin-left:0;margin-right:auto;padding-right:40px;text-align:right;justify-content:flex-end;transform:translateX(-30px)}
        .timeline-item:nth-child(odd) .timeline-content{width:100%;max-width:500px;box-shadow:none;border-right:1px solid rgba(255,255,255,.05);flex-direction:row-reverse;align-items:flex-start;gap:1.5rem}
        .timeline-item:nth-child(odd) .timeline-content::after{right:-8px;border-left:8px solid rgba(255,255,255,.1)}
        .timeline-item:nth-child(odd).active:not(.electric-active) .timeline-content{border-right:1px solid rgba(255,255,255,.05);border-left:3px solid #3b82f6;box-shadow:-15px 0 30px -10px rgba(59,130,246,.25)}
        .timeline-item:nth-child(even){margin-left:auto;margin-right:0;padding-left:40px;text-align:left;justify-content:flex-start;transform:translateX(30px)}
        .timeline-item:nth-child(even) .timeline-content{width:100%;max-width:500px;flex-direction:row;align-items:flex-start;gap:1.5rem}
        .timeline-item:nth-child(even) .timeline-content::after{left:-8px;border-right:8px solid rgba(255,255,255,.1)}
        .timeline-item:nth-child(even).active:not(.electric-active) .timeline-content{border-right:3px solid #3b82f6;box-shadow:15px 0 30px -10px rgba(59,130,246,.25)}
        .timeline-item.electric-active .timeline-content{border-left:none!important;border-right:none!important}
      }

      /* keyframes para fadeIn usados en el modal del portfolio */
      @keyframes fadeIn{0%{opacity:0;transform:translateY(6px)}100%{opacity:1;transform:translateY(0)}}
    </style>
  </head>

  <body>
    <!-- Filtro SVG para la tarjeta eléctrica de la timeline -->
    <svg style="position:absolute;width:0;height:0;overflow:hidden" aria-hidden="true">
      <defs>
        <filter id="turbulent-displace" x="-20%" y="-20%" width="140%" height="140%">
          <feTurbulence type="turbulence" baseFrequency="0.02" numOctaves="10" seed="1" result="noise1" />
          <feOffset in="noise1" dx="0" dy="0" result="offsetNoise1">
            <animate attributeName="dy" values="700; 0" dur="6s" repeatCount="indefinite" />
          </feOffset>
          <feTurbulence type="turbulence" baseFrequency="0.02" numOctaves="10" seed="1" result="noise2" />
          <feOffset in="noise2" dx="0" dy="0" result="offsetNoise2">
            <animate attributeName="dy" values="0; -700" dur="6s" repeatCount="indefinite" />
          </feOffset>
          <feTurbulence type="turbulence" baseFrequency="0.02" numOctaves="10" seed="2" result="noise3" />
          <feOffset in="noise3" dx="0" dy="0" result="offsetNoise3">
            <animate attributeName="dx" values="490; 0" dur="6s" repeatCount="indefinite" />
          </feOffset>
          <feTurbulence type="turbulence" baseFrequency="0.02" numOctaves="10" seed="2" result="noise4" />
          <feOffset in="noise4" dx="0" dy="0" result="offsetNoise4">
            <animate attributeName="dx" values="0; -490" dur="6s" repeatCount="indefinite" />
          </feOffset>
          <feComposite in="offsetNoise1" in2="offsetNoise2" result="part1" />
          <feComposite in="offsetNoise3" in2="offsetNoise4" result="part2" />
          <feBlend in="part1" in2="part2" mode="color-dodge" result="combinedNoise" />
          <feDisplacementMap in="SourceGraphic" in2="combinedNoise" scale="30" xChannelSelector="R" yChannelSelector="B" />
        </filter>
      </defs>
    </svg>

    <!-- Contenedor raíz para React -->
    <div id="root"></div>

    <!-- Datos dinámicos -->
    <script src="consts.js"></script>

    <!-- App React -->
    <script type="text/babel">
      const { useState, useEffect, useRef, useMemo } = React;

      // --- FUNCIONES MATEMÁTICAS ---
      const clamp = (value, min = 0, max = 100) => Math.min(Math.max(value, min), max);
      const round = (value, precision = 3) => parseFloat(value.toFixed(precision));
      const centerOfElement = (el) => { const { width, height } = el.getBoundingClientRect(); return [width / 2, height / 2]; };
      const distanceFromCenter = (el, x, y) => { const [cx, cy] = centerOfElement(el); return [x - cx, y - cy]; };
      const angleFromPointerEvent = (dx, dy) => { let angle = 0; if (dx !== 0 || dy !== 0) { angle = (Math.atan2(dy, dx) * 180) / Math.PI + 90; if (angle < 0) angle += 360; } return angle; };
      const closenessToEdge = (el, x, y) => {
        const [cx, cy] = centerOfElement(el);
        const [dx, dy] = distanceFromCenter(el, x, y);
        return clamp(1 / Math.min(dx !== 0 ? cx / Math.abs(dx) : Infinity, dy !== 0 ? cy / Math.abs(dy) : Infinity), 0, 1);
      };
      const pointerPositionRelativeToElement = (el, e) => {
        const { left, top, width, height } = el.getBoundingClientRect();
        const x = e.clientX - left;
        const y = e.clientY - top;
        return { pixels: [x, y], percent: [clamp((100 / width) * x), clamp((100 / height) * y)] };
      };

      // --- CONFIG PORTFOLIO ---
      const ITEMS_PER_PAGE = 9;

      // ============================================================
      // CATEGORÍAS NORMALIZADAS (se alimenta desde consts.js)
      // - El diccionario "real" debe venir en: window.JRE_CATEGORY_DICT
      // - Este fallback evita que la UI se rompa si aún no está definido
      // ============================================================
      const DEFAULT_CATEGORY_DICT = {
        branding: {
          label: "Branding",
          includes: ["logos", "sistemas visuales", "identidad corporativa", "aplicaciones de marca"],
          hint: "Cuando el foco es la identidad de marca.",
          order: 10
        },
        "graphic-design": {
          label: "Diseño Gráfico",
          includes: ["cartelería", "editorial", "stands", "piezas impresas", "identidad aplicada"],
          hint: "Todo lo gráfico que no es digital interactivo puro.",
          order: 20
        },
        editorial: {
          label: "Editorial",
          includes: ["revistas", "maquetación", "publicaciones"],
          hint: "Cuando el peso editorial es protagonista.",
          order: 50
        },
        "ui-ux": {
          label: "UI/UX",
          includes: ["dashboards", "productos digitales", "apps conceptuales"],
          hint: "Diseño de interfaces y experiencia de usuario.",
          order: 30
        },
        "web-dev": {
          label: "Desarrollo Web",
          includes: ["HTML/CSS", "React", "algo de backend", "WebGL / Three.js"],
          hint: "Implementación frontend orientada a diseño y experiencia.",
          order: 40
        },
        other: {
          label: "Otros",
          includes: ["otros / especiales"],
          hint: "Proyectos fuera de las categorías principales.",
          order: 60
        }
      };

      const getCategoryDict = () => window.JRE_CATEGORY_DICT || DEFAULT_CATEGORY_DICT;

      const normalizeCategoryKey = (rawKey, dict = getCategoryDict()) => {
        if (!rawKey) return null;
        const k = String(rawKey).trim().toLowerCase();

        const alias = {
          // ya normalizadas
          "branding": "branding",
          "graphic-design": "graphic-design",
          "editorial": "editorial",
          "ui-ux": "ui-ux",
          "web-dev": "web-dev",
          "other": "other",
          // variantes típicas / legado (por si queda algo en datos)
          "ui/ux": "ui-ux",
          "uiux": "ui-ux",
          "ux/ui": "ui-ux",
          "ux-ui": "ui-ux",
          "app": "ui-ux",
          "apps": "ui-ux",
          "desarrollo": "web-dev",
          "development": "web-dev",
          "dev": "web-dev",
          "web": "web-dev",
          "frontend": "web-dev",
          "diseño": "graphic-design",
          "diseno": "graphic-design",
          "diseño gráfico": "graphic-design",
          "diseno grafico": "graphic-design",
          "otros": "other",
          "especiales": "other"
        };

        const mapped = alias[k] || k;
        if (mapped === "all") return "all";
        if (dict[mapped]) return mapped;
        return "other";
      };

      const getCategoryLabel = (key, dict = getCategoryDict()) => {
        if (key === "all") return "Todos";
        return dict[key]?.label || key;
      };

      const getCategoryTooltipMeta = (key, dict = getCategoryDict()) => {
        if (key === "all") return { hint: "Ver todo el trabajo", includes: [] };
        return { hint: dict[key]?.hint || "", includes: dict[key]?.includes || [] };
      };

      // Se mantiene la firma por compatibilidad con tu modal (pero ahora usa el diccionario)
      const formatCategoryName = (cat) => {
        const dict = getCategoryDict();
        const key = normalizeCategoryKey(cat, dict);
        return getCategoryLabel(key, dict);
      };

      // --- ICONOS SVG ---
      const FileText = ({ className }) => (
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
          <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z" />
          <polyline points="14 2 14 8 20 8" />
          <line x1="16" x2="8" y1="13" y2="13" />
          <line x1="16" x2="8" y1="17" y2="17" />
          <line x1="10" x2="8" y1="9" y2="9" />
        </svg>
      );
      const Database = ({ className }) => (
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
          <ellipse cx="12" cy="5" rx="9" ry="3" />
          <path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3" />
          <path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5" />
        </svg>
      );
      const Sparkles = ({ className }) => (
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
          <path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L12 3Z" />
          <path d="M5 3v4" />
          <path d="M9 3v4" />
          <path d="M3 7h4" />
          <path d="M3 5h4" />
        </svg>
      );
      const BarChart3 = ({ className }) => (
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
          <path d="M3 3v18h18" />
          <path d="M18 17V9" />
          <path d="M13 17V5" />
          <path d="M8 17v-3" />
        </svg>
      );
      const PenTool = ({ className }) => (
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
          <path d="m12 19 7-7 3 3-7 7-3-3z" />
          <path d="m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z" />
          <path d="m2 2 7.586 7.586" />
          <circle cx="11" cy="11" r="2" />
        </svg>
      );
      const Palette = ({ className }) => (
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
          <circle cx="13.5" cy="6.5" r=".5" />
          <circle cx="17.5" cy="10.5" r=".5" />
          <circle cx="8.5" cy="7.5" r=".5" />
          <circle cx="6.5" cy="12.5" r=".5" />
          <path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.01 17.461 2 12 2z" />
        </svg>
      );
      const Search = ({ className }) => (
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
          <circle cx="11" cy="11" r="8" />
          <path d="m21 21-4.3-4.3" />
        </svg>
      );
      const CheckCircle = ({ className }) => (
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
          <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" />
          <polyline points="22 4 12 14.01 9 11.01" />
        </svg>
      );
      const BadgeCheck = ({ className }) => (
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
          <path d="M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.78 4.78 4 4 0 0 1-6.74 0 4 4 0 0 1-4.78-4.78 4 4 0 0 1 0-6.74Z" />
          <path d="m9 12 2 2 4-4" />
        </svg>
      );
      const Layout = ({ className }) => (
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
          <rect width="18" height="18" x="3" y="3" rx="2" ry="2" />
          <line x1="3" x2="21" y1="9" y2="9" />
          <line x1="9" x2="9" y1="21" y2="9" />
        </svg>
      );
      const Code = ({ className }) => (
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
          <polyline points="16 18 22 12 16 6" />
          <polyline points="8 6 2 12 8 18" />
        </svg>
      );
      const Briefcase = ({ className }) => (
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
          <rect width="20" height="14" x="2" y="7" rx="2" ry="2" />
          <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16" />
        </svg>
      );
      const Users = ({ className }) => (
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
          <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
          <circle cx="9" cy="7" r="4" />
          <path d="M22 21v-2a4 4 0 0 0-3-3.87" />
          <path d="M16 3.13a4 4 0 0 1 0 7.75" />
        </svg>
      );
      const Award = ({ className }) => (
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
          <path d="m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526" />
          <circle cx="12" cy="8" r="6" />
        </svg>
      );
      const Star = ({ className }) => (
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
          <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" />
        </svg>
      );
      const Clock = ({ className }) => (
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
          <circle cx="12" cy="12" r="10" />
          <polyline points="12 6 12 12 16 14" />
        </svg>
      );
      const Calendar = ({ className }) => (
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2" />
          <line x1="16" y1="2" x2="16" y2="6" />
          <line x1="8" y1="2" x2="8" y2="6" />
          <line x1="3" y1="10" x2="21" y2="10" />
        </svg>
      );
      const ArrowRight = ({ className }) => (
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
          <line x1="5" y1="12" x2="19" y2="12" />
          <polyline points="12 5 19 12 12 19" />
        </svg>
      );
      const MapPin = ({ className }) => (
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
          <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" />
          <circle cx="12" cy="10" r="3" />
        </svg>
      );
      const Mail = ({ className }) => (
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
          <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" />
          <polyline points="22,6 12,13 2,6" />
        </svg>
      );
      const ClockIcon = ({ className }) => (
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
          <circle cx="12" cy="12" r="10" />
          <polyline points="12 6 12 12 16 14" />
        </svg>
      );
      const ExternalLink = ({ className }) => (
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
          <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6" />
          <polyline points="15 3 21 3 21 9" />
          <line x1="10" y1="14" x2="21" y2="3" />
        </svg>
      );

      // LOGO
      const JRELogo = ({ className }) => (
        <img src="logo.svg" alt="JRE Logo" className={`${className} transition-all duration-500 ease-out hover:drop-shadow-[0_0_35px_rgba(59,130,246,0.7)] hover:scale-105`} />
      );

      // --- HOOK DE INTERSECCIÓN ---
      const useInView = (options) => {
        const ref = useRef(null);
        const [isInView, setIsInView] = useState(false);
        useEffect(() => {
          const observer = new IntersectionObserver(([entry]) => {
            if (entry.isIntersecting) { setIsInView(true); observer.disconnect(); }
          }, options);
          if (ref.current) observer.observe(ref.current);
          return () => { if (ref.current) observer.disconnect(); };
        }, [options]);
        return [ref, isInView];
      };

      // --- TARJETA SIMPLE ---
      const CardStyle = ({ icon: Icon, title, description, delay, centered = true }) => {
        const [ref, isInView] = useInView({ threshold: 0.2 });
        return (
          <div ref={ref} className={`transition-all duration-700 transform ${isInView ? "opacity-100 translate-y-0" : "opacity-0 translate-y-10"}`} style={{ transitionDelay: `${delay}ms` }}>
            <div className={`flex flex-col ${centered ? "items-center text-center" : "items-start text-left"} justify-center p-8 h-full min-h-[280px] rounded-2xl border border-blue-500/60 bg-[linear-gradient(to_bottom,#111111_0%,#06080d_100%)] transition-all duration-300 hover:shadow-[0_0_20px_rgba(59,130,246,0.4)] group hover:-translate-y-1`}>
              <Icon className={"w-12 h-12 text-white mb-6 stroke-[1.5] group-hover:scale-110 transition-transform duration-300"} />
              <h3 className="text-white font-bold text-xl mb-3 leading-tight whitespace-pre-line">{title}</h3>
              {description && <p className="text-zinc-400 text-sm leading-relaxed">{description}</p>}
            </div>
          </div>
        );
      };

      // --- GLOWING SERVICE CARD ---
      const GlowingServiceCard = ({ title, description, delay }) => {
        const cardRef = useRef(null);
        const [ref, isInView] = useInView({ threshold: 0.2 });
        const handlePointerMove = (e) => {
          const card = cardRef.current;
          if (!card) return;
          const { pixels, percent } = pointerPositionRelativeToElement(card, e);
          const [px, py] = pixels;
          const [perx, pery] = percent;
          const [dx, dy] = distanceFromCenter(card, px, py);
          const edge = closenessToEdge(card, px, py);
          const angle = angleFromPointerEvent(dx, dy);
          card.style.setProperty("--pointer-x", `${round(perx)}%`);
          card.style.setProperty("--pointer-y", `${round(pery)}%`);
          card.style.setProperty("--pointer-deg", `${round(angle)}deg`);
          card.style.setProperty("--pointer-d", `${round(edge * 100)}`);
        };
        return (
          <div ref={ref} className={`glowing-card-wrapper transition-all duration-700 transform ${isInView ? "opacity-100 translate-y-0" : "opacity-0 translate-y-10"}`} style={{ transitionDelay: `${delay}ms` }}>
            <div ref={cardRef} className="glowing-card group" onPointerMove={handlePointerMove}>
              <span className="glow" />
              <div className="inner">
                {title.includes("UI") ? (
                  <Layout className="w-12 h-12 text-blue-400 mb-4 stroke-[1.5]" />
                ) : title.includes("Code") || title.includes("Development") ? (
                  <Code className="w-12 h-12 text-blue-400 mb-4 stroke-[1.5]" />
                ) : (
                  <BadgeCheck className="w-12 h-12 text-blue-400 mb-4 stroke-[1.5]" />
                )}
                <h3 className="text-white font-bold text-2xl mb-4">{title}</h3>
                <p className="text-zinc-400 text-sm leading-relaxed">{description}</p>
              </div>
            </div>
          </div>
        );
      };

      // --- BARRA HABILIDAD ---
      const SkillBar = ({ name, percentage, delay }) => {
        const [ref, isInView] = useInView({ threshold: 0.2 });
        return (
          <div ref={ref} className="mb-6 last:mb-0">
            <div className="flex justify-between items-end mb-2">
              <span className="text-white font-medium text-sm md:text-base tracking-wide">{name}</span>
              <span className="text-blue-400 font-bold text-sm">{percentage}%</span>
            </div>
            <div className="h-1.5 w-full bg-zinc-800/50 rounded-full overflow-hidden">
              <div className="h-full bg-gradient-to-r from-blue-600 to-cyan-400 rounded-full transition-all duration-[1500ms] ease-out shadow-[0_0_10px_rgba(59,130,246,0.5)]" style={{ width: isInView ? `${percentage}%` : "0%", transitionDelay: `${delay}ms` }} />
            </div>
          </div>
        );
      };

      // --- PASO PROCESO ---
      const ProcessStep = ({ number, title, description, delay, isLast }) => {
        const [ref, isInView] = useInView({ threshold: 0.2 });
        return (
          <div ref={ref} className={`flex flex-col items-center text-center p-6 transition-all duration-1000 transform relative ${isInView ? "opacity-100 translate-y-0" : "opacity-0 translate-y-12"}`} style={{ transitionDelay: `${delay}ms` }}>
            <div className="relative mb-6 w-full flex justify-center">
              <div className="absolute inset-0 bg-blue-500 blur-xl opacity-20 rounded-full w-16 h-16 mx-auto" />
              <div className="relative w-16 h-16 rounded-full bg-gradient-to-br from-blue-600 to-cyan-400 p-[2px] shadow-lg shadow-blue-500/20 z-10">
                <div className="w-full h-full rounded-full bg-zinc-900 flex items-center justify-center">
                  <span className="text-xl font-bold text-white font-mono">{number}</span>
                </div>
              </div>
              {!isLast && <div className="hidden lg:block absolute top-1/2 left-1/2 w-full h-[2px] bg-zinc-800 -z-0 transform -translate-y-1/2" />}
            </div>
            <h3 className="text-white font-bold text-xl mb-3">{title}</h3>
            <p className="text-zinc-400 text-sm leading-relaxed">{description}</p>
          </div>
        );
      };

      // --- TECH STACK ---
      const TechStack = () => {
        const tools = window.JRE_TOOLS || [];
        const aiTools = window.JRE_AI_TOOLS || [];
        useEffect(() => {
          const aiItems = document.querySelectorAll(".ai-item");
          aiItems.forEach((item) => {
            const wrapper = item.querySelector(".icon-wrapper");
            let sparkInterval;
            const shine = document.createElement("div");
            shine.className = "card-shine";
            wrapper.appendChild(shine);
            const glare = document.createElement("div");
            glare.className = "card-glare";
            wrapper.appendChild(glare);
            const sparksContainer = document.createElement("div");
            sparksContainer.className = "sparks-container";
            wrapper.appendChild(sparksContainer);

            const createSpark = () => {
              const spark = document.createElement("div");
              spark.className = "spark";
              spark.style.left = Math.random() * 88 + "px";
              spark.style.bottom = "0px";
              spark.style.setProperty("--drift", (Math.random() - 0.5) * 40 + "px");
              sparksContainer.appendChild(spark);
              setTimeout(() => spark.remove(), 600);
            };

            const handleMove = (e) => {
              const rect = wrapper.getBoundingClientRect();
              const x = e.clientX - rect.left;
              const y = e.clientY - rect.top;
              const centerX = rect.width / 2;
              const centerY = rect.height / 2;
              const rotateX = ((y - centerY) / centerY) * -12;
              const rotateY = ((x - centerX) / centerX) * 12;
              wrapper.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(1.05)`;
              shine.style.backgroundPosition = `${(x / rect.width) * 100}% ${(y / rect.height) * 100}%`;
              wrapper.style.setProperty("--pointer-x", `${x}px`);
              wrapper.style.setProperty("--pointer-y", `${y}px`);
            };

            const handleEnter = () => { sparkInterval = setInterval(createSpark, 60); createSpark(); };
            const handleLeave = () => { clearInterval(sparkInterval); sparksContainer.innerHTML = ""; wrapper.style.transform = "rotateX(0) rotateY(0) scale(1)"; };

            item.addEventListener("mousemove", handleMove);
            item.addEventListener("mouseenter", handleEnter);
            item.addEventListener("mouseleave", handleLeave);
          });
        }, []);

        return (
          <div className="w-full mt-24 space-y-20">
            <div>
              <h3 className="text-3xl font-extrabold mb-8 flex items-center gap-2 bg-clip-text text-transparent bg-cotton-candy animate-shine bg-[length:200%_auto]">
                <span className="w-8 h-1 bg-blue-500 rounded-full" />Tecnologías / Herramientas
              </h3>
              <div className="tech-grid-container">
                {tools.map((tool, i) => (
                  <div key={i} className="tech-item">
                    <div className="icon-wrapper">
                      <img src={tool.icon} alt={tool.name} className="full-icon" onError={(e) => { e.target.style.display = "none"; }} />
                    </div>
                    <span className="text-zinc-400 text-sm mt-2 font-medium tracking-wide">{tool.name}</span>
                  </div>
                ))}
              </div>
            </div>

            <div>
              <h3 className="text-3xl font-extrabold mb-8 flex items-center gap-2 bg-clip-text text-transparent bg-cotton-candy animate-shine bg-[length:200%_auto]">
                <span className="w-8 h-1 bg-blue-500 rounded-full" />Inteligencia Artificial
              </h3>
              <div className="tech-grid-container">
                {aiTools.map((tool, i) => (
                  <div key={i} className="tech-item ai-item">
                    <div className="icon-wrapper">
                      <img src={tool.icon} alt={tool.name} className="full-icon" onError={(e) => { e.target.style.display = "none"; }} />
                    </div>
                    <span className="text-zinc-400 text-sm mt-2 font-medium tracking-wide">{tool.name}</span>
                  </div>
                ))}
              </div>
            </div>
          </div>
        );
      };

      // --- NAVBAR ---
      const Navbar = () => {
        const [isScrolled, setIsScrolled] = useState(false);
        useEffect(() => {
          const handleScroll = () => setIsScrolled(window.scrollY > 50);
          window.addEventListener("scroll", handleScroll);
          return () => window.removeEventListener("scroll", handleScroll);
        }, []);
        const scrollToTop = (e) => { e.preventDefault(); window.scrollTo({ top: 0, behavior: "smooth" }); };
        const navLinks = [
          { name: "Sobre mí", href: "#sobre-mi" },
          { name: "Habilidades", href: "#habilidades" },
          { name: "Trayectoria", href: "#trayectoria" },
          { name: "Portfolio", href: "#portfolio" },
          { name: "Servicios", href: "#servicios" },
          { name: "Contacto", href: "#contacto" }
        ];
        return (
          <nav className={`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${isScrolled ? "bg-zinc-950/80 backdrop-blur-md py-4 shadow-lg border-b border-zinc-800" : "bg-transparent py-6"}`}>
            <div className="max-w-[1400px] mx-auto px-6 flex items-center justify-between">
              <div className="flex items-center gap-3 md:gap-4">
                <a href="#inicio" onClick={scrollToTop} className="cursor-pointer flex items-center gap-2">
                  <img src="logo color.svg" alt="JRE Logo Color" className="h-10 w-auto" onError={(e) => { e.target.style.display = "none"; }} />
                </a>
                <div className="text-white font-medium text-sm leading-tight tracking-tight cursor-default">
                  JRΞdesign <span className="font-normal text-zinc-400">| Diseño gráfico y Desarrollo web</span>
                </div>
              </div>
              <div className="hidden md:flex items-center gap-8">
                {navLinks.map((link) => (
                  <a key={link.name} href={link.href} className="text-sm font-medium text-zinc-300 hover:text-blue-500 transition-colors duration-300 relative group">
                    {link.name}
                    <span className="absolute -bottom-1 left-0 w-0 h-0.5 bg-blue-500 transition-all duration-300 group-hover:w-full" />
                  </a>
                ))}
              </div>
              <div className="md:hidden text-zinc-300 hover:text-white cursor-pointer">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="w-8 h-8">
                  <path strokeLinecap="round" strokeLinejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
                </svg>
              </div>
            </div>
          </nav>
        );
      };

      // --- HERO UTILS ---
      const DrawingTransformation = ({ initialIcon: InitialIcon, finalIcon: FinalIcon, label, delay, x, y, rotation = 0 }) => {
        const [stage, setStage] = useState(0);
        useEffect(() => {
          const cycle = () => { setStage(0); setTimeout(() => setStage(1), 500); setTimeout(() => setStage(2), 3500); };
          const startTimeout = setTimeout(() => { cycle(); const interval = setInterval(cycle, 9000); return () => clearInterval(interval); }, delay);
          return () => clearTimeout(startTimeout);
        }, [delay]);
        return (
          <div className="absolute transition-all duration-1000 ease-in-out z-0 pointer-events-none select-none" style={{ top: y, left: x, transform: `rotate(${rotation}deg)` }}>
            <div className={`relative w-20 h-28 md:w-28 md:h-40 rounded-lg backdrop-blur-md transition-all duration-1000 ${stage === 2 ? "bg-zinc-800/40 border-zinc-500/50 shadow-2xl shadow-blue-900/20 scale-110 -translate-y-4" : "bg-zinc-900/10 border-zinc-800 scale-100 border border-dashed"}`}>
              <div className={`absolute -top-3 left-1/2 -translate-x-1/2 bg-zinc-100 text-zinc-900 border border-zinc-200 text-[8px] md:text-[10px] font-mono font-bold px-2 py-0.5 rounded-sm transition-all duration-500 ${stage === 2 ? "opacity-100 translate-y-0" : "opacity-0 translate-y-2"}`}>
                {label}
              </div>
              <div className="absolute inset-0 flex flex-col items-center justify-center">
                <div className={`absolute transition-all duration-1000 ${stage === 1 ? "opacity-100" : "opacity-0"}`}>
                  <InitialIcon className="w-8 h-8 md:w-12 md:h-12 text-zinc-600 stroke-1" />
                  <div className="absolute -inset-4 border border-zinc-800/30 opacity-50 rounded-lg" />
                </div>
                <div className={`absolute transition-all duration-700 flex flex-col items-center ${stage === 2 ? "opacity-100 scale-100 blur-0" : "opacity-0 scale-75 blur-sm"}`}>
                  <FinalIcon className="w-10 h-10 md:w-14 md:h-14 text-blue-500 fill-blue-500/10" />
                  {stage === 2 && (
                    <div className="mt-4 flex items-center gap-2 px-2 py-1 bg-zinc-950/90 rounded-full border border-zinc-800/80 shadow-lg">
                      <div className="w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse" />
                      <div className="w-8 h-1 bg-zinc-800 rounded-full overflow-hidden">
                        <div className="h-full bg-blue-500 w-2/3 animate-[pulse_1s_infinite]" />
                      </div>
                    </div>
                  )}
                </div>
              </div>
            </div>
          </div>
        );
      };

      // --- HERO ---
      const HeroSection = () => (
        <section id="inicio" className="relative min-h-screen flex flex-col items-center justify-center overflow-hidden">
          <div className="absolute inset-0 w-full h-full max-w-[1400px] mx-auto pointer-events-none z-10">
            <div className="hidden lg:block">
              <DrawingTransformation initialIcon={FileText} finalIcon={Sparkles} label="IDEA" delay={0} x="10%" y="15%" rotation={-6} />
            </div>
            <div className="hidden md:block">
              <DrawingTransformation initialIcon={Search} finalIcon={CheckCircle} label="RESULTADOS" delay={2500} x="85%" y="70%" rotation={4} />
            </div>
            <div className="hidden lg:block">
              <DrawingTransformation initialIcon={Database} finalIcon={BarChart3} label="ANÁLISIS" delay={5000} x="80%" y="20%" rotation={3} />
            </div>
            <div className="hidden md:block">
              <DrawingTransformation initialIcon={PenTool} finalIcon={Palette} label="DISEÑO" delay={4000} x="12%" y="65%" rotation={-3} />
            </div>
          </div>

          <div className="relative z-20 text-center px-4 max-w-5xl mx-auto pt-20">
            <div className="inline-flex items-center gap-2 px-3 py-1 rounded-full border border-zinc-800 bg-zinc-900/50 text-zinc-400 text-xs font-mono mb-8">
              <span className="relative flex h-2 w-2">
                <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75" />
                <span className="relative inline-flex rounded-full h-2 w-2 bg-blue-500" />
              </span>
              Open to work
            </div>
            <h1 className="flex flex-wrap items-center justify-center gap-4 md:gap-8 text-5xl sm:text-7xl md:text-8xl lg:text-9xl font-bold tracking-tighter text-white mb-8 leading-[1.05] drop-shadow-2xl">
              <JRELogo className="h-32 w-32 sm:h-40 sm:w-40 md:h-60 md:w-60 lg:h-80 lg:w-80 mb-2 md:mb-0" />
              <span className="underline decoration-blue-500 decoration-4 underline-offset-4 md:underline-offset-8">design</span>
            </h1>
            <p className="text-lg sm:text-xl text-zinc-400 max-w-2xl mx-auto leading-relaxed font-light">
              Transformando ideas en identidades visuales que conectan y perduran. Construyo experiencias visuales con atención al detalle.
            </p>
            <div className="mt-10 flex flex-col sm:flex-row gap-4 justify-center items-center">
              <a href="#portfolio" className="px-8 py-3 bg-white text-zinc-950 font-semibold rounded-full hover:bg-zinc-200 transition-colors">Ver Proyectos</a>
              <a href="#contacto" className="px-8 py-3 bg-transparent border border-zinc-700 text-white font-medium rounded-full hover:bg-zinc-800/50 transition-colors">Contactar</a>
            </div>
          </div>
        </section>
      );

      // --- SECTION WRAPPER ---
      const Section = ({ id, title, children, bgColor = "bg-transparent", titleCenter = true }) => (
        <section id={id} className={`min-h-screen flex flex-col items-center justify-center relative z-20 px-6 py-24 ${bgColor}`}>
          <div className="max-w-7xl w-full mx-auto">
            <h2 className={`text-5xl md:text-7xl font-extrabold mb-12 flex items-center gap-4 ${titleCenter ? "justify-center" : ""} bg-clip-text text-transparent bg-cotton-candy animate-shine bg-[length:200%_auto]`}>
              <span className="w-12 h-1 bg-blue-500 rounded-full hidden md:block" />
              {title}
            </h2>
            <div className="text-zinc-400 text-lg leading-relaxed w-full">{children}</div>
          </div>
        </section>
      );

      // --- MODALES / ZOOM DEL PORTFOLIO ---
      const ImageZoom = ({ src, onClose }) => {
        if (!src) return null;
        return (
          <div className="fixed inset-0 z-[60] bg-black/95 flex items-center justify-center p-4 backdrop-blur-md animate-[fadeIn_0.2s_ease-out]" onClick={onClose}>
            <button onClick={onClose} className="absolute top-5 right-5 text-white/50 hover:text-white text-4xl">&times;</button>
            <img src={src} className="max-w-full max-h-[95vh] object-contain rounded-lg shadow-2xl" onClick={(e) => e.stopPropagation()} />
          </div>
        );
      };

      const ProjectModal = ({ project, onClose }) => {
        const [zoomedImg, setZoomedImg] = useState(null);
        useEffect(() => {
          const handleEsc = (e) => e.key === "Escape" && onClose();
          window.addEventListener("keydown", handleEsc);
          document.body.style.overflow = "hidden";
          return () => { window.removeEventListener("keydown", handleEsc); document.body.style.overflow = ""; };
        }, [onClose]);
        if (!project) return null;

        return (
          <>
            <div className="fixed inset-0 z-50 flex items-center justify-center p-2 md:p-4">
              <div className="absolute inset-0 bg-black/90 backdrop-blur-sm transition-opacity" onClick={onClose}></div>

              <div className="relative w-full max-w-[95vw] h-[90vh] md:h-[95vh] flex flex-col bg-zinc-950 border border-zinc-800 rounded-xl shadow-2xl overflow-hidden animate-[fadeIn_0.3s_ease-out]">
                <button onClick={onClose} className="absolute top-4 right-4 z-20 w-12 h-12 rounded-full bg-black/60 hover:bg-white/10 text-white flex items-center justify-center transition-all text-xl">✕</button>

                <div className="overflow-y-auto h-full scroll-smooth">
                  <div className="w-full h-[50vh] md:h-[65vh] relative shrink-0">
                    <img src={project.image} alt={project.title} className="w-full h-full object-cover" />
                    <div className="absolute inset-0 bg-gradient-to-t from-zinc-950 via-transparent to-transparent opacity-90"></div>

                    <div className="absolute bottom-0 left-0 w-full p-8 md:p-12">
                      <div className="flex items-center gap-3 mb-3">
                        <span className="inline-flex items-center gap-1.5 px-3 py-1 text-xs font-bold tracking-widest text-blue-400 uppercase bg-blue-500/10 border border-blue-500/20 rounded-full">
                          <span className="w-1.5 h-1.5 rounded-full bg-blue-500"></span>
                          {project.tag}
                        </span>
                        {project.isNew && (
                          <span className="inline-flex items-center px-2 py-0.5 text-[10px] font-bold tracking-widest text-white uppercase bg-red-600/90 rounded border border-red-500/50 shadow-[0_0_10px_rgba(220,38,38,0.5)]">
                            Nuevo
                          </span>
                        )}
                      </div>

                      <div className="text-sm font-medium text-zinc-400 uppercase tracking-wider mb-2 opacity-80">
                        {(project.categories || []).map((c) => formatCategoryName(c)).join(" | ")}
                      </div>

                      <h3 className="text-4xl md:text-6xl font-bold text-white mb-2">{project.title}</h3>
                      <p className="text-xl md:text-2xl text-zinc-300 font-light">{project.subtitle}</p>
                    </div>
                  </div>

                  <div className="p-8 md:p-12 max-w-7xl mx-auto">
                    <div className="mb-10">
                      <h4 className="text-sm uppercase tracking-wider text-zinc-500 mb-4 font-bold">Sobre el proyecto</h4>
                      <p className="text-zinc-300 text-lg md:text-xl leading-relaxed max-w-4xl" style={{ whiteSpace: "pre-line" }}>
                        {project.description || "Sin descripción detallada disponible."}
                      </p>
                    </div>

                    <div className="mb-12">
                      <h4 className="text-sm uppercase tracking-wider text-zinc-500 mb-4 font-bold">Diseño y acabado</h4>
                      <p className="text-zinc-300 text-lg md:text-xl leading-relaxed max-w-4xl" style={{ whiteSpace: "pre-line" }}>
                        {project.details || "Detalles de diseño no disponibles."}
                      </p>
                    </div>

                    {project.gallery && project.gallery.length > 0 && (
                      <div>
                        <h4 className="text-sm uppercase tracking-wider text-zinc-500 mb-6 font-bold">Galería (Clic para ampliar)</h4>
                        <div className="grid grid-cols-2 md:grid-cols-3 gap-4 md:gap-6">
                          {project.gallery.map((img, idx) => (
                            <div key={idx} className="group relative aspect-square rounded-lg overflow-hidden cursor-zoom-in bg-zinc-900 border border-zinc-800" onClick={() => setZoomedImg(img)}>
                              <img src={img} className="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110" />
                              <div className="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors"></div>
                            </div>
                          ))}
                        </div>
                      </div>
                    )}
                  </div>
                </div>
              </div>
            </div>

            <ImageZoom src={zoomedImg} onClose={() => setZoomedImg(null)} />
          </>
        );
      };

      // --- TIMELINE ---
      const Timeline = () => {
        const wrapperRef = useRef(null);
        const items = (window.JRE_TIMELINE || []).slice();
        useEffect(() => {
          const wrapper = wrapperRef.current;
          if (!wrapper) return;
          const progressLine = wrapper.querySelector(".timeline-progress");
          const domItems = wrapper.querySelectorAll(".timeline-item");
          let electricEffectTriggered = false;

          const observer = new IntersectionObserver((entries, obs) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) { entry.target.classList.add("is-visible"); obs.unobserve(entry.target); }
            });
          }, { root: null, rootMargin: "0px", threshold: 0.15 });

          domItems.forEach((el) => observer.observe(el));

          const updateProgress = () => {
            const rect = wrapper.getBoundingClientRect();
            const windowHeight = window.innerHeight;
            const triggerPoint = windowHeight * 0.55;
            const wrapperTop = rect.top;
            const wrapperHeight = rect.height;

            let percentage = (triggerPoint - wrapperTop) / wrapperHeight;
            percentage = Math.max(0, Math.min(1, percentage));
            if (progressLine) progressLine.style.height = `${percentage * 100}%`;

            const blueLineTip = wrapperTop + wrapperHeight * percentage;

            domItems.forEach((itemEl, index) => {
              const itemRect = itemEl.getBoundingClientRect();
              const itemTop = itemRect.top;
              const isReached = blueLineTip > itemTop + 50;

              if (index === domItems.length - 1) {
                if (isReached && !electricEffectTriggered) { electricEffectTriggered = true; itemEl.classList.add("electric-active"); }
              } else {
                if (isReached) itemEl.classList.add("active");
                else itemEl.classList.remove("active");
              }
            });
          };

          window.addEventListener("scroll", updateProgress, { passive: true });
          window.addEventListener("resize", updateProgress);
          updateProgress();

          return () => {
            observer.disconnect();
            window.removeEventListener("scroll", updateProgress);
            window.removeEventListener("resize", updateProgress);
          };
        }, []);

        return (
          <div ref={wrapperRef} className="timeline-wrapper">
            <div className="timeline-line-container"><div className="timeline-progress" /></div>

            {items.map((item, index) =>
              item.isElectric ? (
                <div className="timeline-item" id="last-card" key={item.id || index}>
                  <div className="timeline-content electric-card-container">
                    <div className="electric-layers">
                      <div className="electric-background-glow" />
                      <div className="electric-overlay-1" />
                      <div className="electric-inner-container">
                        <div className="electric-border-outer"><div className="electric-main-card" /></div>
                        <div className="electric-glow-1" />
                        <div className="electric-glow-2" />
                      </div>
                    </div>

                    <div className="relative z-10 flex flex-col md:flex-row gap-6 items-start">
                      <div className="logo-container">
                        <img src={item.logo} alt={item.logoAlt} onError={(e) => { e.target.style.display = "none"; }} />
                      </div>
                      <div className="text-container">
                        <span className="text-[var(--electric-border-color)] font-mono text-xs font-bold tracking-wide uppercase mb-2 block">{item.period}</span>
                        <h3 className="text-2xl font-bold text-white mb-1">{item.role}</h3>
                        <h4 className="text-sm font-semibold text-zinc-300 uppercase tracking-wider mb-3">{item.company}</h4>
                        <p className="text-zinc-400 leading-relaxed text-sm md:text-base">{item.description}</p>
                      </div>
                    </div>
                  </div>
                </div>
              ) : (
                <div className="timeline-item" key={item.id || index}>
                  <div className="timeline-content">
                    <div className="logo-container">
                      <img src={item.logo} alt={item.logoAlt} onError={(e) => { e.target.style.display = "none"; }} />
                    </div>
                    <div className="text-container">
                      <span className="text-blue-400 font-mono text-xs font-bold tracking-wide uppercase mb-2 block">{item.period}</span>
                      <h3 className="text-2xl font-bold text-white mb-1">{item.role}</h3>
                      <h4 className="text-sm font-semibold text-zinc-300 uppercase tracking-wider mb-3">{item.company}</h4>
                      <p className="text-zinc-400 leading-relaxed text-sm md:text-base">{item.description}</p>
                    </div>
                  </div>
                </div>
              )
            )}
          </div>
        );
      };

      // --- Mapa de iconos para las tarjetas "Sobre mí" ---
      const aboutIconMap = { pen: PenTool, badge: BadgeCheck, layout: Layout, code: Code };

      // ============================================================
      // UI: Botón de categoría con tooltip (desktop hover + focus)
      // ============================================================
      const CategoryFilterButton = ({ catKey, dict, count, active, onSelect }) => {
        const label = getCategoryLabel(catKey, dict);
        const meta = getCategoryTooltipMeta(catKey, dict);
        const tooltipId = `cat-tip-${catKey}`;

        return (
          <div className="relative group">
            <button
              type="button"
              onClick={() => onSelect(catKey)}
              aria-describedby={catKey !== "all" ? tooltipId : undefined}
              className={`px-5 py-2 rounded-full text-sm font-medium transition-all duration-300 border flex items-center gap-2 ${
                active
                  ? "bg-zinc-100 text-zinc-900 border-white scale-105 shadow-lg shadow-white/10"
                  : "bg-zinc-900/50 text-zinc-400 border-zinc-800 hover:border-zinc-600 hover:text-white"
              }`}
            >
              <span>{label}</span>
              {typeof count === "number" && (
                <span
                  className={`inline-flex items-center justify-center min-w-[22px] h-[18px] px-1 rounded-full text-[10px] font-bold border ${
                    active ? "border-zinc-900/20 bg-zinc-900/10 text-zinc-900" : "border-zinc-700/60 bg-zinc-950/40 text-zinc-300"
                  }`}
                >
                  {count}
                </span>
              )}
            </button>

            {catKey !== "all" && (
              <div
                id={tooltipId}
                role="tooltip"
                className="hidden md:block absolute left-1/2 -translate-x-1/2 top-full mt-3 w-[280px] z-30 opacity-0 translate-y-1 pointer-events-none group-hover:opacity-100 group-hover:translate-y-0 group-focus-within:opacity-100 group-focus-within:translate-y-0 transition-all"
              >
                <div className="absolute -top-1.5 left-1/2 -translate-x-1/2 w-3 h-3 bg-zinc-950/95 border-l border-t border-zinc-700/60 rotate-45"></div>
                <div className="rounded-xl border border-zinc-700/60 bg-zinc-950/95 backdrop-blur-md shadow-xl p-3 text-left">
                  <div className="text-xs font-semibold text-white mb-1">{label}</div>
                  {meta.hint && <div className="text-xs text-zinc-300 leading-snug">{meta.hint}</div>}
                  {meta.includes && meta.includes.length > 0 && (
                    <div className="mt-2 text-[11px] text-zinc-400 leading-snug">
                      <span className="font-semibold text-zinc-300">Incluye:</span> {meta.includes.join(" · ")}
                    </div>
                  )}
                </div>
              </div>
            )}
          </div>
        );
      };

      // ============================================================
      // UI: Panel explicativo (ideal móvil + útil desktop)
      // ============================================================
      const CategoryInfoPanel = ({ dict, counts, activeCategory, onSelect, isOpen, setIsOpen }) => {
        const ordered = useMemo(() => {
          return Object.entries(dict)
            .sort((a, b) => (a[1]?.order ?? 999) - (b[1]?.order ?? 999))
            .map(([k]) => k);
        }, [dict]);

        return (
          <div className="mb-8 rounded-2xl border border-zinc-800 bg-zinc-900/30 overflow-hidden">
            <div className="flex items-center justify-between gap-4 px-5 py-4">
              <div>
                <h4 className="text-white font-bold text-base md:text-lg">Guía de categorías</h4>
                <p className="text-zinc-500 text-xs md:text-sm">Qué entra en cada bloque (útil para filtrar rápido).</p>
              </div>
              <button
                type="button"
                onClick={() => setIsOpen((v) => !v)}
                className="px-4 py-2 rounded-full text-sm font-medium border border-zinc-800 bg-zinc-950/40 text-zinc-300 hover:text-white hover:border-zinc-600 transition-all"
                aria-expanded={isOpen}
              >
                {isOpen ? "Ocultar" : "Mostrar"}
              </button>
            </div>

            {isOpen && (
              <div className="px-5 pb-5">
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <button
                    type="button"
                    onClick={() => onSelect("all")}
                    className={`text-left rounded-xl border p-4 transition-all ${
                      activeCategory === "all" ? "border-white/40 bg-white/5" : "border-zinc-800 bg-zinc-950/30 hover:border-zinc-600"
                    }`}
                  >
                    <div className="flex items-center justify-between gap-3">
                      <div className="text-white font-bold">Todos</div>
                      <div className="text-xs font-bold text-zinc-300 border border-zinc-700/60 bg-zinc-950/50 px-2 py-0.5 rounded-full">
                        {counts?.all ?? 0}
                      </div>
                    </div>
                    <p className="text-zinc-400 text-sm mt-2">Muestra todos los proyectos sin filtrar.</p>
                  </button>

                  {ordered.map((key) => {
                    const label = dict[key]?.label || key;
                    const hint = dict[key]?.hint || "";
                    const includes = dict[key]?.includes || [];
                    const c = counts?.[key] ?? 0;

                    return (
                      <button
                        key={key}
                        type="button"
                        onClick={() => onSelect(key)}
                        className={`text-left rounded-xl border p-4 transition-all ${
                          activeCategory === key ? "border-white/40 bg-white/5" : "border-zinc-800 bg-zinc-950/30 hover:border-zinc-600"
                        }`}
                      >
                        <div className="flex items-center justify-between gap-3">
                          <div className="text-white font-bold">{label}</div>
                          <div className="text-xs font-bold text-zinc-300 border border-zinc-700/60 bg-zinc-950/50 px-2 py-0.5 rounded-full">{c}</div>
                        </div>

                        {hint && <p className="text-zinc-400 text-sm mt-2">{hint}</p>}

                        {includes.length > 0 && (
                          <div className="mt-3">
                            <div className="text-xs font-semibold text-zinc-300 mb-1">Incluye</div>
                            <ul className="text-xs text-zinc-500 space-y-1 list-disc list-inside">
                              {includes.map((it, idx) => (
                                <li key={idx}>{it}</li>
                              ))}
                            </ul>
                          </div>
                        )}
                      </button>
                    );
                  })}
                </div>
              </div>
            )}
          </div>
        );
      };

      // --- APP ---
      const App = () => {
        const skillsData = window.JRE_SKILLS || [];
        const aboutCards = window.JRE_ABOUT_CARDS || [];
        const services = window.JRE_SERVICES || [];
        const contactLinks = window.JRE_CONTACT_LINKS || [];

        // Estado específico del portfolio
        const [activeCategory, setActiveCategory] = useState("all");
        const [currentPage, setCurrentPage] = useState(1);
        const [selectedProject, setSelectedProject] = useState(null);

        // Panel explicativo
        const [isCategoryInfoOpen, setIsCategoryInfoOpen] = useState(false);

        // Diccionario central (desde consts.js)
        const categoryDict = useMemo(() => getCategoryDict(), []);

        // Proyectos (invertidos + categorías normalizadas y deduplicadas)
        const projects = useMemo(() => {
          const raw = window.JRE_PROJECTS || [];
          return [...raw].reverse().map((p) => {
            const normalized = Array.from(
              new Set((p.categories || []).map((c) => normalizeCategoryKey(c, categoryDict)).filter(Boolean))
            );
            return { ...p, categories: normalized };
          });
        }, [categoryDict]);

        // Default: panel abierto en móvil
        useEffect(() => {
          try {
            const isMobile = window.matchMedia && window.matchMedia("(max-width: 767px)").matches;
            if (isMobile) setIsCategoryInfoOpen(true);
          } catch (_) {}
        }, []);

        // Reset de página al cambiar de categoría
        useEffect(() => { setCurrentPage(1); }, [activeCategory]);

        // Orden coherente de botones (según order)
        const orderedCategoryKeys = useMemo(() => {
          return Object.entries(categoryDict)
            .sort((a, b) => (a[1]?.order ?? 999) - (b[1]?.order ?? 999))
            .map(([k]) => k);
        }, [categoryDict]);

        // Botones: Todos + las 6 categorías normalizadas
        const categories = useMemo(() => ["all", ...orderedCategoryKeys], [orderedCategoryKeys]);

        // Conteo por categoría (para badge numérico)
        const categoryCounts = useMemo(() => {
          const counts = { all: projects.length };
          orderedCategoryKeys.forEach((k) => (counts[k] = 0));
          projects.forEach((p) => {
            (p.categories || []).forEach((k) => { if (typeof counts[k] !== "number") counts[k] = 0; counts[k] += 1; });
          });
          return counts;
        }, [projects, orderedCategoryKeys]);

        // Filtrado por categoría
        const filteredProjects = useMemo(
          () => (activeCategory === "all" ? projects : projects.filter((p) => (p.categories || []).includes(activeCategory))),
          [activeCategory, projects]
        );

        // Paginación
        const totalPages = Math.ceil(filteredProjects.length / ITEMS_PER_PAGE);
        const currentProjects = filteredProjects.slice((currentPage - 1) * ITEMS_PER_PAGE, currentPage * ITEMS_PER_PAGE);

        const handlePageChange = (page) => {
          if (page < 1 || page > totalPages) return;
          setCurrentPage(page);
          document.getElementById("portfolio-grid-anchor")?.scrollIntoView({ behavior: "smooth", block: "start" });
        };

        return (
          <div className="relative bg-zinc-950">
            <div className="fixed inset-0 z-0 opacity-20 pointer-events-none bg-grid-pattern" />
            <div className="fixed inset-0 z-0 bg-[radial-gradient(circle_at_center,transparent_0%,#09090b_100%)] pointer-events-none" />

            <Navbar />

            <main className="relative z-10">
              <HeroSection />

              {/* SOBRE MÍ */}
              <Section id="sobre-mi" title="Sobre mí" titleCenter={false}>
                <div className="mb-16">
                  <p className="mb-6">
                    Soy un diseñador gráfico multidisciplinar que disfruta dando forma a identidades visuales con carácter y coherencia, tanto en proyectos institucionales como comerciales. Mi trabajo se mueve entre el branding, la creación de interfaces y el desarrollo web con stack MERN, donde encuentro un punto de encuentro natural entre lo visual y lo funcional, ya sea desde el branding, la producción editorial o la comunicación institucional.
                  </p>
                  <p>
                    Me motiva construir experiencias que comuniquen con claridad y que se sientan fluidas al interactuar. Desde la sensibilidad del diseño hasta la lógica del código, busco que cada detalle aporte a una experiencia de usuario intuitiva, satisfactoria y pensada con intención.
                  </p>
                </div>
                <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 w-full">
                  {aboutCards.map((card, index) => {
                    const Icon = aboutIconMap[card.icon] || PenTool;
                    return <CardStyle key={card.id || index} icon={Icon} title={card.title} delay={index * 300} />;
                  })}
                </div>
              </Section>

              {/* HABILIDADES */}
              <Section id="habilidades" title="Habilidades" titleCenter={false}>
                <p className="mb-12 text-zinc-400">Mi experiencia abarca múltiples disciplinas del diseño y la comunicación visual.</p>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-6">
                  {skillsData.map((skill, i) => <SkillBar key={i} name={skill.name} percentage={skill.pct} delay={i * 100} />)}
                </div>
                <TechStack />
              </Section>

              {/* TRAYECTORIA (TIMELINE) */}
              <Section id="trayectoria" title="Trayectoria" titleCenter={false}>
                <Timeline />
              </Section>

              {/* PORTFOLIO */}
              <Section id="portfolio" title="Portfolio" titleCenter={false}>
                <div id="portfolio-grid-anchor" className="h-0"></div>

                {/* Panel explicativo (móvil + desktop) */}
                <CategoryInfoPanel
                  dict={categoryDict}
                  counts={categoryCounts}
                  activeCategory={activeCategory}
                  onSelect={(k) => setActiveCategory(k)}
                  isOpen={isCategoryInfoOpen}
                  setIsOpen={setIsCategoryInfoOpen}
                />

                {/* Filtros por categoría (con tooltip desktop) */}
                <div className="flex flex-wrap gap-3 mb-10">
                  {categories.map((catKey) => (
                    <CategoryFilterButton
                      key={catKey}
                      catKey={catKey}
                      dict={categoryDict}
                      count={categoryCounts?.[catKey] ?? 0}
                      active={activeCategory === catKey}
                      onSelect={setActiveCategory}
                    />
                  ))}
                </div>

                {/* Grid de proyectos con paginación */}
                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-8 min-h-[50vh]">
                  {currentProjects.map((project) => (
                    <div
                      key={project.id}
                      onClick={() => setSelectedProject(project)}
                      className="group relative aspect-[4/3] bg-zinc-900 border border-zinc-800 rounded-xl overflow-hidden cursor-pointer hover:border-blue-500/30 transition-all duration-500 hover:-translate-y-2 hover:shadow-[0_20px_40px_-15px_rgba(0,0,0,0.7)]"
                    >
                      <img src={project.image} alt={project.title} className="absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-105" />
                      <div className="absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent opacity-80 group-hover:opacity-90 transition-opacity" />

                      {project.isNew && (
                        <div className="absolute top-4 right-4 z-20">
                          <span className="px-2 py-1 text-[10px] font-bold uppercase tracking-widest text-white bg-red-600 rounded shadow-lg animate-pulse">Nuevo</span>
                        </div>
                      )}

                      <div className="absolute bottom-0 left-0 w-full p-6 flex flex-col justify-end items-start z-10">
                        <span className="inline-flex items-center gap-1.5 px-2 py-0.5 mb-2 rounded border border-zinc-600/50 bg-black/40 backdrop-blur-sm text-[10px] font-bold uppercase tracking-wider text-blue-300">
                          <span className="w-1.5 h-1.5 rounded-full bg-blue-500"></span>
                          {project.tag}
                        </span>
                        <h3 className="text-xl font-bold text-white mb-1 group-hover:text-blue-200 transition-colors">{project.title}</h3>
                        <p className="text-zinc-400 text-sm line-clamp-1">{project.subtitle}</p>
                      </div>
                    </div>
                  ))}
                </div>

                {filteredProjects.length === 0 && <p className="text-center text-zinc-600 mt-10">No hay proyectos en esta categoría.</p>}

                {totalPages > 1 && (
                  <div className="flex justify-center items-center gap-2 mt-16">
                    <button
                      onClick={() => handlePageChange(currentPage - 1)}
                      disabled={currentPage === 1}
                      className="px-4 py-1.5 rounded-full text-sm font-medium border border-zinc-800 text-zinc-400 hover:text-white hover:border-zinc-600 disabled:opacity-30 disabled:hover:border-zinc-800 transition-all bg-zinc-900/50"
                    >
                      Anterior
                    </button>

                    {Array.from({ length: totalPages }, (_, i) => i + 1).map((page) => (
                      <button
                        key={page}
                        onClick={() => handlePageChange(page)}
                        className={`px-3 py-1 rounded-full text-sm font-medium min-w-[32px] transition-all border ${
                          currentPage === page
                            ? "bg-zinc-100 text-zinc-900 border-white shadow-lg shadow-white/10"
                            : "bg-zinc-900/50 text-zinc-400 border-zinc-800 hover:border-zinc-600 hover:text-white"
                        }`}
                      >
                        {page}
                      </button>
                    ))}

                    <button
                      onClick={() => handlePageChange(currentPage + 1)}
                      disabled={currentPage === totalPages}
                      className="px-4 py-1.5 rounded-full text-sm font-medium border border-zinc-800 text-zinc-400 hover:text-white hover:border-zinc-600 disabled:opacity-30 disabled:hover:border-zinc-800 transition-all bg-zinc-900/50"
                    >
                      Siguiente
                    </button>
                  </div>
                )}
              </Section>

              {/* SERVICIOS */}
              <Section id="servicios" title="Servicios" titleCenter={false}>
                <div className="mb-16 text-center">
                  <h3 className="text-3xl font-bold text-white mb-4">Mi Proceso de Trabajo</h3>
                  <p className="text-zinc-400 text-lg max-w-3xl mx-auto leading-relaxed">
                    Soluciones integrales de diseño y comunicación visual para empresas, instituciones y emprendedores que buscan destacar en su mercado.
                  </p>
                </div>

                <div className="mb-24 grid grid-cols-1 md:grid-cols-4 gap-8">
                  <ProcessStep number="01" title="Estrategia Primero" description="Cada proyecto comienza con una comprensión profunda de tus objetivos y audiencia." delay={0} />
                  <ProcessStep number="02" title="Diseño Centrado en Resultados" description="No solo creamos algo bonito, sino algo que funciona y genera impacto." delay={200} />
                  <ProcessStep number="03" title="Implementación Completa" description="Desde la conceptualización hasta la entrega final con todos los archivos necesarios." delay={400} />
                  <ProcessStep number="04" title="Soporte Continuo" description="Te acompaño en la implementación y evolución de tu identidad visual." delay={600} isLast={true} />
                </div>

                <div className="grid grid-cols-1 md:grid-cols-3 gap-6 w-full">
                  {services.map((service, index) => (
                    <GlowingServiceCard key={service.id || index} title={service.title} description={service.description} delay={index * 200} />
                  ))}
                </div>
              </Section>

              {/* CONTACTO */}
              <Section id="contacto" title="Contacto" titleCenter={false}>
                <div className="grid grid-cols-1 lg:grid-cols-2 gap-12 w-full">
                  {/* Formulario */}
                  <div className="bg-zinc-900/50 p-8 rounded-2xl border border-zinc-800">
                    <h3 className="text-2xl font-bold text-white mb-2">Cuéntame sobre tu proyecto</h3>
                    <p className="text-zinc-400 text-sm mb-6">Completa el formulario para preparar una propuesta ajustada.</p>

                    <form className="space-y-4">
                      <div className="grid grid-cols-2 gap-4">
                        <div>
                          <label className="block text-xs font-medium text-zinc-400 mb-1">Nombre *</label>
                          <input type="text" placeholder="Tu nombre completo" className="w-full bg-zinc-950 border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white focus:outline-none focus:border-blue-500 transition-colors placeholder-zinc-600" />
                        </div>
                        <div>
                          <label className="block text-xs font-medium text-zinc-400 mb-1">Email *</label>
                          <input type="email" placeholder="tu@email.com" className="w-full bg-zinc-950 border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white focus:outline-none focus:border-blue-500 transition-colors placeholder-zinc-600" />
                        </div>
                      </div>

                      <div>
                        <label className="block text-xs font-medium text-zinc-400 mb-1">Empresa / Organización</label>
                        <input type="text" placeholder="Nombre de tu empresa (opcional)" className="w-full bg-zinc-950 border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white focus:outline-none focus:border-blue-500 transition-colors placeholder-zinc-600" />
                      </div>

                      <div className="grid grid-cols-2 gap-4">
                        <div>
                          <label className="block text-xs font-medium text-zinc-400 mb-1">Tipo de proyecto *</label>
                          <select className="w-full bg-zinc-950 border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white focus:outline-none focus:border-blue-500 transition-colors appearance-none text-zinc-300">
                            <option>Selecciona el tipo</option>
                            <option>Web Design</option>
                            <option>Development</option>
                            <option>Branding</option>
                          </select>
                        </div>
                        <div>
                          <label className="block text-xs font-medium text-zinc-400 mb-1">Presupuesto aprox.</label>
                          <select className="w-full bg-zinc-950 border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white focus:outline-none focus:border-blue-500 transition-colors appearance-none text-zinc-300">
                            <option>Selecciona un rango</option>
                            <option>€500 - €1000</option>
                            <option>€1000 - €3000</option>
                            <option>+€3000</option>
                          </select>
                        </div>
                      </div>

                      <div>
                        <label className="block text-xs font-medium text-zinc-400 mb-1">Cuéntame sobre tu proyecto *</label>
                        <textarea rows="4" placeholder="Describe tu proyecto: objetivos, audiencia, estilo preferido..." className="w-full bg-zinc-950 border border-zinc-800 rounded-lg px-4 py-3 text-sm text-white focus:outline-none focus:border-blue-500 transition-colors placeholder-zinc-600"></textarea>
                      </div>

                      <button className="w-full bg-gradient-to-r from-blue-600 to-cyan-500 text-white font-bold py-3 rounded-lg hover:shadow-lg hover:shadow-blue-500/20 transition-all transform hover:-translate-y-0.5">
                        Enviar Mensaje
                      </button>
                    </form>
                  </div>

                  {/* Info de contacto */}
                  <div className="space-y-8">
                    <div className="grid grid-cols-1 gap-6">
                      <div className="flex items-center gap-4 text-zinc-300">
                        <div className="p-3 bg-zinc-900 rounded-full border border-zinc-800 text-blue-500"><ClockIcon className="w-6 h-6" /></div>
                        <div>
                          <h4 className="font-bold text-white">Respuesta en 24h</h4>
                          <p className="text-sm text-zinc-500">Te respondo rápidamente</p>
                        </div>
                      </div>
                      <div className="flex items-center gap-4 text-zinc-300">
                        <div className="p-3 bg-zinc-900 rounded-full border border-zinc-800 text-blue-500"><Calendar className="w-6 h-6" /></div>
                        <div>
                          <h4 className="font-bold text-white">Consulta gratuita</h4>
                          <p className="text-sm text-zinc-500">Primera reunión sin costo</p>
                        </div>
                      </div>
                      <div className="flex items-center gap-4 text-zinc-300">
                        <div className="p-3 bg-zinc-900 rounded-full border border-zinc-800 text-blue-500"><ArrowRight className="w-6 h-6" /></div>
                        <div>
                          <h4 className="font-bold text-white">Propuesta personalizada</h4>
                          <p className="text-sm text-zinc-500">Adaptada a tu presupuesto</p>
                        </div>
                      </div>
                    </div>

                    <div className="h-px bg-zinc-800 w-full my-8" />

                    <div>
                      <h3 className="text-3xl font-bold text-white mb-6">Información de contacto</h3>
                      <p className="text-zinc-400 mb-8">También puedes contactarme directamente a través de estos canales.</p>

                      <div className="space-y-6">
                        <div className="flex items-start gap-4">
                          <MapPin className="w-6 h-6 text-blue-500 mt-1" />
                          <div>
                            <h4 className="text-white font-bold">Ubicación</h4>
                            <p className="text-zinc-400 text-sm">Madrid, España</p>
                            <p className="text-zinc-500 text-xs">Trabajo tanto presencial como remoto</p>
                          </div>
                        </div>

                        <div className="flex items-start gap-4">
                          <Mail className="w-6 h-6 text-blue-500 mt-1" />
                          <div>
                            <h4 className="text-white font-bold">Email</h4>
                            <a href="mailto:jr.eugercios@gmail.com" className="text-blue-400 hover:underline text-sm block">jr.eugercios@gmail.com</a>
                            <p className="text-zinc-500 text-xs">Respondo en un máximo de 24 horas</p>
                          </div>
                        </div>

                        <div className="flex items-start gap-4">
                          <ClockIcon className="w-6 h-6 text-blue-500 mt-1" />
                          <div>
                            <h4 className="text-white font-bold">Horario de atención</h4>
                            <p className="text-zinc-400 text-sm">Lunes a Viernes: 9:00 - 15:00 (CET)</p>
                            <p className="text-zinc-500 text-xs">Para proyectos urgentes, también fines de semana</p>
                          </div>
                        </div>
                      </div>
                    </div>

                    {/* Links dinámicos (Behance, LinkedIn, X...) */}
                    <div className="pt-6">
                      <h4 className="text-white font-bold mb-4">También me encuentras en</h4>
                      <div className="grid grid-cols-1 gap-3">
                        {contactLinks.map((link) => (
                          <a key={link.id} href={link.url} className="flex items-center justify-between p-4 bg-zinc-900 border border-zinc-800 rounded-lg hover:border-blue-500/50 transition-all group">
                            <div className="flex items-center gap-3">
                              <ExternalLink className="w-5 h-5 text-blue-500" />
                              <div>
                                <span className="text-white font-medium block">{link.label}</span>
                                <span className="text-zinc-500 text-xs">{link.description}</span>
                              </div>
                            </div>
                          </a>
                        ))}
                      </div>
                    </div>
                  </div>
                </div>
              </Section>

              <footer className="py-8 text-center text-zinc-600 text-sm relative z-20 border-t border-zinc-900">
                &copy; 2025 JREdesign. Todos los derechos reservados.
              </footer>
            </main>

            {selectedProject && <ProjectModal project={selectedProject} onClose={() => setSelectedProject(null)} />}
          </div>
        );
      };

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
